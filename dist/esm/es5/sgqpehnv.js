/*! Built with http://stenciljs.com */
var __generator=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};import{h}from"./app.core.js";import{a as matchPath,b as matchesAreEqual,c as ActiveRouter,d as storageAvailable,e as createLocation,f as addLeadingSlash,g as stripTrailingSlash,h as hasBasename,i as stripBasename,j as createPath,k as canUseDOM,l as addEventListener,m as removeEventListener,n as getConfirmation,o as supportsHistory,p as supportsPopStateOnHashChange,q as isExtraneousPopstateEvent,r as locationsAreEqual,s as stripLeadingSlash,t as supportsGoWithoutReloadUsingHash}from"./chunk-0844f48d.js";var AppHeader=function(){function t(){}return t.prototype.handleResize=function(){var t=this;requestAnimationFrame(function(){window.innerWidth>768&&(t.el.querySelector(".header-menu").style.display="",t.el.classList.remove("show-mobile-menu"),document.body.classList.remove("no-scroll"),t.isMobileMenuShown=!1)})},t.prototype.componentDidLoad=function(){this.isMobileMenuShown=!1},t.prototype.showNav=function(t){var e=this;console.log("should show now open",this.isMobileMenuShown,t),this.isMobileMenuShown||(this.isMobileMenuShown=!0,this.el.querySelector(".header-menu").style.display="flex",setTimeout(function(){e.el.classList.add("show-mobile-menu"),document.body.classList.add("no-scroll")},1))},t.prototype.hideNav=function(){if(console.log("should show now close",this.isMobileMenuShown),this.isMobileMenuShown){this.isMobileMenuShown=!1;var t=this.el.querySelector(".header-menu");this.el.classList.remove("show-mobile-menu"),setTimeout(function(){t.style.display="none",document.body.classList.remove("no-scroll")},300)}},t.prototype.render=function(){var t=this;return h("div",{class:"container"},h("div",{class:"header-menu"},h("stencil-route-link",{url:"/words",exact:!0,onClick:function(){t.hideNav()}},"My Words"),h("stencil-route-link",{url:"/settings",exact:!0,onClick:function(){t.hideNav()}},"Settings"),h("stencil-route-link",{url:"/",exact:!0,onClick:function(){t.hideNav()}},"Immerse"),h("a",{class:"link--external",target:"_blank",href:"https://paypal.com"},"Donate ",h("app-icon",{name:"targetblank"})),h("div",{class:"header-close",onClick:function(){t.hideNav()}},h("app-icon",{name:"close"}))))},Object.defineProperty(t,"is",{get:function(){return"imr-app-header"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{el:{elementRef:!0},isMobileMenuShown:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"window:resize",method:"handleResize",passive:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"translate-header{position:fixed;top:0;left:0;width:100%;background-color:#fff;z-index:99}translate-header .logo{width:96px}translate-header .container{padding-top:20px;padding-bottom:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}\@media screen and (max-width:768px){translate-header .container{padding-top:15px;padding-bottom:15px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.header-close,.header-overflow{display:block;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}.header-menu a{-webkit-transition:border .3s,color .3s;transition:border .3s,color .3s;font-size:14px;padding-bottom:1em;border-bottom:3px solid transparent;vertical-align:top;color:#8888a2;text-decoration:none;font-weight:500;letter-spacing:-.02em}.header-menu stencil-route-link+a,.header-menu stencil-route-link+stencil-route-link{margin-left:30px}.header-menu a.link-active,.header-menu a:not(.link--external):hover{border-bottom-color:rgba(136,136,162,.2)}.header-menu a.link-active{color:#505061}.header-menu .link--external .icon{-webkit-transition:top .2s,left .2s;transition:top .2s,left .2s;position:relative}.header-menu .link--external:hover{color:#505061}.header-menu .link--external:hover .icon{left:1px;top:-1px}.header-close,.header-overflow{-webkit-transition:opacity .3s;transition:opacity .3s;width:22px;height:18px;cursor:pointer;opacity:.5}.header-close:hover,.header-overflow:hover{opacity:1}.header-close .icon-close{fill:#fff}"},enumerable:!0,configurable:!0}),t}(),AppRoot=function(){function t(){this.elements=["site-header","site-menu","app-burger",".root"]}return t.prototype.handleResize=function(){var t=this;requestAnimationFrame(function(){window.innerWidth>768&&t.isLeftSidebarIn&&(t.isLeftSidebarIn=!1,document.body.classList.remove("no-scroll"),t.elements.forEach(function(e){t.el.querySelector(e).classList.remove("left-sidebar-in")}))})},t.prototype.componentDidLoad=function(){this.isLeftSidebarIn=!1},t.prototype.render=function(){return[h("imr-app-header",null),h("div",{class:"root"},h("div",{class:"container"},h("stencil-router",{scrollTopOffset:0},h("stencil-route-switch",null,h("stencil-route",{url:"/words",component:"imr-view-word-list"}),h("stencil-route",{url:"/settings",component:"pwas-page"}),h("stencil-route",{component:"imr-view-main"})))),",",h("footer",null,h("div",{class:"container"},h("div",{class:"footer__open-source"},h("p",null,"Made by Manuel Puentes @2018")),h("div",{class:"footer__icons"},h("a",{class:"svg-button",id:"stencil-twitter",href:"https://twitter.com/stenciljs",target:"_blank",rel:"noopener",title:"Follow me on "},h("app-icon",{name:"twitter"})),h("a",{class:"svg-button",id:"ionic-forum",href:"https://stencil-worldwide.herokuapp.com",target:"_blank",rel:"noopener",title:"Join the stencil worldwide slack"},h("app-icon",{name:"slack"}))))))]},Object.defineProperty(t,"is",{get:function(){return"imr-app-root"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{el:{elementRef:!0},isLeftSidebarIn:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"window:resize",method:"handleResize",passive:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"*{-webkit-box-sizing:border-box;box-sizing:border-box}::-moz-selection{background:#ebebf7}::-moz-selection,::selection{background:#ebebf7}stencil-route-link:hover{cursor:pointer}app-root{min-height:100%;display:block}.no-scroll{overflow:hidden}.left-sidebar-in{-webkit-animation-name:slideIn;animation-name:slideIn;-webkit-animation-duration:.7s;animation-duration:.7s;-webkit-animation-timing-function:cubic-bezier(.19,1,.22,1);animation-timing-function:cubic-bezier(.19,1,.22,1);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}\@-webkit-keyframes slideIn{from{left:0}to{left:calc(100vw - 56px)}}\@keyframes slideIn{from{left:0}to{left:calc(100vw - 56px)}}.left-sidebar-out{-webkit-animation-name:slideOut;animation-name:slideOut;-webkit-animation-duration:.7s;animation-duration:.7s;-webkit-animation-timing-function:cubic-bezier(.19,1,.22,1);animation-timing-function:cubic-bezier(.19,1,.22,1);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}\@-webkit-keyframes slideOut{from{left:calc(100vw - 56px)}to{left:0}}\@keyframes slideOut{from{left:calc(100vw - 56px)}to{left:0}}.container{width:100%;max-width:1080px;margin-left:auto;margin-right:auto;padding:0 1em;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}.root{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:6em 0 0}footer{width:100%;background:#f8f8fc;-webkit-box-flex:0;-ms-flex:0 0 6em;flex:0 0 6em;margin-top:100px;padding:40px 0;display:-webkit-box;display:-ms-flexbox;display:flex}footer .container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}footer .svg-button{margin-left:16px;-webkit-transition:all .15s ease;transition:all .15s ease}footer .svg-button:hover{opacity:.5}.footer__icons{display:-webkit-box;display:-ms-flexbox;display:flex}.footer__open-source img{width:50%}.footer__open-source p{margin-top:0;margin-bottom:0;color:#abb2bf;font-size:10px}"},enumerable:!0,configurable:!0}),t}(),Route=function(){function t(){this.group=null,this.groupMatch=null,this.componentUpdated=null,this.match=null,this.unsubscribe=function(){},this.componentProps={},this.exact=!1,this.routeRender=null,this.scrollTopOffset=null,this.scrollOnNextRender=!1,this.previousMatch=null}return t.prototype.computeMatch=function(){return this.previousMatch=this.match,this.group?this.groupMatch?this.match=matchPath(this.location.pathname,{path:this.url,exact:this.exact,strict:!0}):void 0:this.match=matchPath(this.location.pathname,{path:this.url,exact:this.exact,strict:!0})},t.prototype.componentDidUpdate=function(){var t=this;Promise.all(Array.from(this.el.children).map(function(t){return t.componentOnReady?t.componentOnReady():Promise.resolve(t)})).then(function(){"function"==typeof t.componentUpdated?t.componentUpdated({scrollTopOffset:t.scrollTopOffset}):t.match&&!matchesAreEqual(t.match,t.previousMatch)&&t.routeViewsUpdated({scrollTopOffset:t.scrollTopOffset})})},t.prototype.render=function(){if(!this.match)return null;var t=Object.assign({},this.componentProps,{history:this.history,match:this.match});if(this.routeRender)return this.routeRender(Object.assign({},t,{component:this.component}));if(this.component){var e=this.component;return h(e,Object.assign({},t))}},Object.defineProperty(t,"is",{get:function(){return"stencil-route"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{component:{type:String,attr:"component"},componentProps:{type:"Any",attr:"component-props"},componentUpdated:{type:"Any",attr:"component-updated"},el:{elementRef:!0},exact:{type:Boolean,attr:"exact"},group:{type:String,attr:"group"},groupMatch:{type:"Any",attr:"group-match"},history:{type:"Any",attr:"history"},historyType:{type:String,attr:"history-type"},location:{type:"Any",attr:"location",watchCallbacks:["computeMatch"]},match:{state:!0},routeRender:{type:"Any",attr:"route-render"},routeViewsUpdated:{type:"Any",attr:"route-views-updated"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"},url:{type:String,attr:"url"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"stencil-route.inactive{display:none}"},enumerable:!0,configurable:!0}),t}();function uuidv4(){return([1e7].toString()+-1e3.toString()+-4e3.toString()+-8e3.toString()+-1e11.toString()).replace(/[018]/g,function(t){return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}ActiveRouter.injectProps(Route,["location","history","historyType","routeViewsUpdated"]);var __awaiter=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})};function getUniqueId(){return window.crypto?uuidv4():(1e17*Math.random()).toString().match(/.{4}/g).join("-")}function getMatch(t,e,n){return matchPath(t,{path:e,exact:n,strict:!0})}var RouteSwitch=function(){function t(){this.group=getUniqueId(),this.scrollTopOffset=null,this.activeIndex=null}return t.prototype.componentWillLoad=function(){this.regenerateSubscribers(this.location)},t.prototype.regenerateSubscribers=function(t){return __awaiter(this,void 0,void 0,function(){var e,n=this;return __generator(this,function(o){return e=null,this.subscribers=Array.from(this.el.children).map(function(n,o){var r=getMatch(t.pathname,n.url,n.exact);return r&&null===e&&(e=o),{el:n,match:r}}),this.activeIndex===e?(this.subscribers[this.activeIndex].el.groupMatch=this.subscribers[this.activeIndex].match,[2]):(this.activeIndex=e,new Promise(function(t){var e=n.subscribers[n.activeIndex];e.el.scrollTopOffset=n.scrollTopOffset,e.el.group=n.group,e.el.groupMatch=e.match,e.el.componentUpdated=t}).then(function(t){n.queue.write(function(){n.subscribers.forEach(function(t,e){if(t.el.componentUpdated=null,e===n.activeIndex)return t.el.style.display=null;t.el.scrollTopOffset=n.scrollTopOffset,t.el.group=n.group,t.el.groupMatch=null,t.el.style.display="none"})}),n.routeViewsUpdated(Object.assign({scrollTopOffset:n.scrollTopOffset},t))}),[2])})})},t.prototype.render=function(){return h("slot",null)},Object.defineProperty(t,"is",{get:function(){return"stencil-route-switch"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{el:{elementRef:!0},group:{type:String,attr:"group",reflectToAttr:!0},location:{type:"Any",attr:"location",watchCallbacks:["regenerateSubscribers"]},queue:{context:"queue"},routeViewsUpdated:{type:"Any",attr:"route-views-updated"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"}}},enumerable:!0,configurable:!0}),t}();function invariant(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t||console.error.apply(console,e)}function warning(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t||console.warn.apply(console,e)}ActiveRouter.injectProps(RouteSwitch,["location","routeViewsUpdated"]);var createTransitionManager=function(){var t,e=[];return{setPrompt:function(e){return warning(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,o,r){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof o?o(i,r):(warning(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:function(t){var n=!0,o=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];n&&t.apply(void 0,e)};return e.push(o),function(){n=!1,e=e.filter(function(t){return t!==o})}},notifyListeners:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.forEach(function(e){return e.apply(void 0,t)})}}},createScrollHistory=function(t){void 0===t&&(t="scrollPositions");var e=new Map;function n(t,n){if(e.set(t,n),storageAvailable("sessionStorage")){var o=[];e.forEach(function(t,e){o.push([e,t])}),window.sessionStorage.setItem("scrollPositions",JSON.stringify(o))}}return storageAvailable("sessionStorage")&&(e=window.sessionStorage.getItem(t)?new Map(JSON.parse(window.sessionStorage.getItem(t))):e),"scrollRestoration"in history&&(history.scrollRestoration="manual"),{set:n,get:function(t){return e.get(t)},has:function(t){return e.has(t)},capture:function(t){n(t,[window.scrollX,window.scrollY])}}},PopStateEvent="popstate",HashChangeEvent="hashchange",getHistoryState=function(){try{return window.history.state||{}}catch(t){return{}}},createBrowserHistory=function(t){void 0===t&&(t={}),invariant(canUseDOM,"Browser history needs a DOM");var e=window.history,n=supportsHistory(),o=!supportsPopStateOnHashChange(),r=createScrollHistory(),i=t.forceRefresh,a=void 0!==i&&i,s=t.getUserConfirmation,c=void 0===s?getConfirmation:s,l=t.keyLength,u=void 0===l?6:l,h=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):"",p=function(t){var e=(t=t||{}).key,n=t.state,o=window.location,r=o.pathname+o.search+o.hash;return warning(!h||hasBasename(r,h),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+r+'" to begin with "'+h+'".'),h&&(r=stripBasename(r,h)),createLocation(r,n,e)},f=function(){return Math.random().toString(36).substr(2,u)},d=createTransitionManager(),g=function(t){r.capture(M.location.key),Object.assign(M,t),M.location.scrollPosition=r.get(M.location.key),M.length=e.length,d.notifyListeners(M.location,M.action)},y=function(t){isExtraneousPopstateEvent(t)||w(p(t.state))},m=function(){w(p(getHistoryState()))},v=!1,w=function(t){v?(v=!1,g()):d.confirmTransitionTo(t,"POP",c,function(e){e?g({action:"POP",location:t}):b(t)})},b=function(t){var e=M.location,n=S.indexOf(e.key);-1===n&&(n=0);var o=S.indexOf(t.key);-1===o&&(o=0);var r=n-o;r&&(v=!0,T(r))},P=p(getHistoryState()),S=[P.key],O=function(t){return h+createPath(t)},T=function(t){e.go(t)},L=0,H=function(t){1===(L+=t)?(addEventListener(window,PopStateEvent,y),o&&addEventListener(window,HashChangeEvent,m)):0===L&&(removeEventListener(window,PopStateEvent,y),o&&removeEventListener(window,HashChangeEvent,m))},x=!1,M={length:e.length,action:"POP",location:P,createHref:O,push:function(t,o){warning(!("object"==typeof t&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=createLocation(t,o,f(),M.location);d.confirmTransitionTo(r,"PUSH",c,function(t){if(t){var o=O(r),i=r.key,s=r.state;if(n)if(e.pushState({key:i,state:s},null,o),a)window.location.href=o;else{var c=S.indexOf(M.location.key),l=S.slice(0,-1===c?0:c+1);l.push(r.key),S=l,g({action:"PUSH",location:r})}else warning(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=o}})},replace:function(t,o){warning(!("object"==typeof t&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=createLocation(t,o,f(),M.location);d.confirmTransitionTo(r,"REPLACE",c,function(t){if(t){var o=O(r),i=r.key,s=r.state;if(n)if(e.replaceState({key:i,state:s},null,o),a)window.location.replace(o);else{var c=S.indexOf(M.location.key);-1!==c&&(S[c]=r.key),g({action:"REPLACE",location:r})}else warning(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(o)}})},go:T,goBack:function(){return T(-1)},goForward:function(){return T(1)},block:function(t){void 0===t&&(t="");var e=d.setPrompt(t);return x||(H(1),x=!0),function(){return x&&(x=!1,H(-1)),e()}},listen:function(t){var e=d.appendListener(t);return H(1),function(){H(-1),e()}}};return M},HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+stripLeadingSlash(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}},getHashPath=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},pushHashPath=function(t){return window.location.hash=t},replaceHashPath=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},createHashHistory=function(t){void 0===t&&(t={}),invariant(canUseDOM,"Hash history needs a DOM");var e=window.history,n=supportsGoWithoutReloadUsingHash(),o=t.getUserConfirmation,r=void 0===o?getConfirmation:o,i=t.hashType,a=void 0===i?"slash":i,s=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):"",c=HashPathCoders[a],l=c.encodePath,u=c.decodePath,h=function(){var t=u(getHashPath());return warning(!s||hasBasename(t,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+s+'".'),s&&(t=stripBasename(t,s)),createLocation(t)},p=createTransitionManager(),f=function(t){Object.assign(x,t),x.length=e.length,p.notifyListeners(x.location,x.action)},d=!1,g=null,y=function(){var t=getHashPath(),e=l(t);if(t!==e)replaceHashPath(e);else{var n=h(),o=x.location;if(!d&&locationsAreEqual(o,n))return;if(g===createPath(n))return;g=null,m(n)}},m=function(t){d?(d=!1,f()):p.confirmTransitionTo(t,"POP",r,function(e){e?f({action:"POP",location:t}):v(t)})},v=function(t){var e=x.location,n=S.lastIndexOf(createPath(e));-1===n&&(n=0);var o=S.lastIndexOf(createPath(t));-1===o&&(o=0);var r=n-o;r&&(d=!0,O(r))},w=getHashPath(),b=l(w);w!==b&&replaceHashPath(b);var P=h(),S=[createPath(P)],O=function(t){warning(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},T=0,L=function(t){1===(T+=t)?addEventListener(window,HashChangeEvent$1,y):0===T&&removeEventListener(window,HashChangeEvent$1,y)},H=!1,x={length:e.length,action:"POP",location:P,createHref:function(t){return"#"+l(s+createPath(t))},push:function(t,e){warning(void 0===e,"Hash history cannot push state; it is ignored");var n=createLocation(t,void 0,void 0,x.location);p.confirmTransitionTo(n,"PUSH",r,function(t){if(t){var e=createPath(n),o=l(s+e);if(getHashPath()!==o){g=e,pushHashPath(o);var r=S.lastIndexOf(createPath(x.location)),i=S.slice(0,-1===r?0:r+1);i.push(e),S=i,f({action:"PUSH",location:n})}else warning(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),f()}})},replace:function(t,e){warning(void 0===e,"Hash history cannot replace state; it is ignored");var n=createLocation(t,void 0,void 0,x.location);p.confirmTransitionTo(n,"REPLACE",r,function(t){if(t){var e=createPath(n),o=l(s+e);getHashPath()!==o&&(g=e,replaceHashPath(o));var r=S.indexOf(createPath(x.location));-1!==r&&(S[r]=e),f({action:"REPLACE",location:n})}})},go:O,goBack:function(){return O(-1)},goForward:function(){return O(1)},block:function(t){void 0===t&&(t="");var e=p.setPrompt(t);return H||(L(1),H=!0),function(){return H&&(H=!1,L(-1)),e()}},listen:function(t){var e=p.appendListener(t);return L(1),function(){L(-1),e()}}};return x},__awaiter$1=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},HISTORIES={browser:createBrowserHistory,hash:createHashHistory},Router=function(){function t(){var t=this;this.root="/",this.historyType="browser",this.titleSuffix="",this.scrollTopOffset=null,this.routeViewsUpdated=function(e){void 0===e&&(e={}),t.scrollTo(e.scrollTopOffset||t.scrollTopOffset)}}return t.prototype.componentWillLoad=function(){var t=this;this.history=HISTORIES[this.historyType](),this.history.listen(function(e){return __awaiter$1(t,void 0,void 0,function(){return __generator(this,function(t){return e=this.getLocation(e),this.location=e,[2]})})}),this.location=this.getLocation(this.history.location)},t.prototype.scrollTo=function(t){var e=this;if(null!=t&&!this.isServer&&this.history)return"POP"===this.history.action&&null!=this.history.location.scrollPosition?this.queue.write(function(){window.scrollTo(e.history.location.scrollPosition[0],e.history.location.scrollPosition[1])}):this.queue.write(function(){window.scrollTo(0,t)})},t.prototype.getLocation=function(t){var e=0==t.pathname.indexOf(this.root)?"/"+t.pathname.slice(this.root.length):t.pathname;return Object.assign({},t,{pathname:e})},t.prototype.render=function(){var t={historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated};return h(ActiveRouter.Provider,{state:t},h("slot",null))},Object.defineProperty(t,"is",{get:function(){return"stencil-router"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{history:{state:!0},historyType:{type:String,attr:"history-type"},isServer:{context:"isServer"},location:{state:!0},queue:{context:"queue"},root:{type:String,attr:"root"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"},titleSuffix:{type:String,attr:"title-suffix"}}},enumerable:!0,configurable:!0}),t}();export{AppHeader as ImrAppHeader,AppRoot as ImrAppRoot,Route as StencilRoute,RouteSwitch as StencilRouteSwitch,Router as StencilRouter};