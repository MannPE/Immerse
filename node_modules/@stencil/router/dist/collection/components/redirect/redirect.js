import ActiveRouter from '../../global/active-router';
export class Redirect {
    constructor() {
        this.history = null;
        this.root = null;
    }
    componentWillLoad() {
        return this.history.replace(this.getUrl(this.url));
    }
    // Get the URL for this route link without the root from the router
    getUrl(url) {
        // Don't allow double slashes
        if (url.charAt(0) == '/' && this.root.charAt(this.root.length - 1) == '/') {
            return this.root.slice(0, this.root.length - 1) + url;
        }
        return this.root + url;
    }
    static get is() { return "stencil-router-redirect"; }
    static get properties() { return {
        "el": {
            "elementRef": true
        },
        "history": {
            "type": "Any",
            "attr": "history"
        },
        "root": {
            "type": String,
            "attr": "root"
        },
        "url": {
            "type": String,
            "attr": "url"
        }
    }; }
}
ActiveRouter.injectProps(Redirect, [
    'history',
    'root'
]);
